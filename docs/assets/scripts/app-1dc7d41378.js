!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(i);!function(){function e(){u.innerHTML=l.render()}function t(){l.init(),u=document.getElementById("bowling"),a=document.getElementById("play-btn"),o=document.getElementById("reset-btn"),a.addEventListener("click",n,!1),o.addEventListener("click",i,!1),e()}function n(){l.roll(),e(),l.isFinished()&&s()}function i(){l.reset(),e(),a.classList.contains("btn--disabled")&&a.classList.remove("btn--disabled")}function s(){a.classList.add("btn--disabled")}var u,a,o,l=new r.default;document.addEventListener("DOMContentLoaded",t)}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),o=i(a),l=n(3),c=i(l),f=function(){function e(){s(this,e),this.frames=[],this.pins=[],this.remainingPins=10}return u(e,[{key:"init",value:function(){this.setFrames(this.createFrames(10)),this.setPins(this.createPins(10))}},{key:"isFinished",value:function(){return 0===this.getRemaining()}},{key:"roll",value:function(){if(!this.isFinished()){var e=this.getCurrentFrame(),t=this.randomRoll(this.remainingPins);this.remainingPins=this.frames[0].roll(t),this.resetPins(),this.getPins().map(function(t,n){t.setKnocked(n>=10-e.getRollsScore())})}}},{key:"randomRoll",value:function(e){return Math.floor(Math.random()*(e+1))}},{key:"getCurrentFrame",value:function(){return this.getFrames().find(function(e){return e.isCurrent()})}},{key:"resetPins",value:function(){this.getPins().map(function(e){return e.reset()})}},{key:"getRemaining",value:function(){return this.remainingPins}},{key:"setRemaining",value:function(e){this.remainingPins=e}},{key:"getScore",value:function(){var e=0;return this.frames.map(function(t){return e+=t.getScore()}),e}},{key:"createFrames",value:function(e){var t=[].concat(r(Array(e))).map(function(e,t){return new o.default});return t.map(function(e,n){e.id=n+1,0===n&&e.setCurrent(!0),n<t.length-1&&e.setNext(t[n+1])}),t}},{key:"createPins",value:function(e){return[].concat(r(Array(e))).map(function(e,t){return new c.default(t,!1)})}},{key:"setFrames",value:function(e){this.frames=e}},{key:"setPins",value:function(e){this.pins=e}},{key:"getFrames",value:function(){return this.frames}},{key:"getPins",value:function(){return this.pins}},{key:"reset",value:function(){this.init(),this.setRemaining(10)}},{key:"render",value:function(){var e=this.getScore().toString(),t="",n="";return this.getFrames().map(function(e){return t+=e.render()}),this.getPins().map(function(e,t){n+=e.render(),3!=t&&6!=t&&8!=t||(n+="<br>")}),"\n      <div class='frames'>"+t+"</div>\n      <div class='pins'>"+n+'</div>\n      <div class="total-score'+(this.isFinished()?" total-score--finished":"")+'">Total score:<span class="total-score__number">'+e+"</span></div>      \n    "}}]),e}();t.default=f},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){n(this,e),this.id=0,this.rolls=[],this.score=0,this.current=!1,this.next=null,this.addNextScore=0}return i(e,[{key:"getScore",value:function(){return this.score}},{key:"getRollsScore",value:function(){if(this.rolls.length)return this.rolls.reduce(function(e,t){return e+t})}},{key:"setCurrent",value:function(e){return this.current=e,this}},{key:"isCurrent",value:function(){return this.current}},{key:"isLast",value:function(){return null===this.next}},{key:"isFinished",value:function(){return this.isStrike()||2===this.rolls.length}},{key:"isSpare",value:function(){return this.rolls.length>=2&&this.rolls[0]+this.rolls[1]===10}},{key:"isStrike",value:function(){return this.rolls.length>=1&&10===this.rolls[0]}},{key:"getNext",value:function(){return this.next}},{key:"setNext",value:function(e){this.next=e}},{key:"moveNext",value:function(){this.setCurrent(!1).getNext().setCurrent(!0)}},{key:"roll",value:function(e){if(!this.isCurrent())return this.addNextScore>0&&(this.addNextScore--,this.score+=e),this.getNext().roll(e);if(this.score+=e,this.rolls.push(e),this.isFinished()){if(this.addNextScore=this.isStrike()?2:this.isSpare()?1:0,this.isLast())return 0;this.moveNext()}return this.isStrike()||this.isFinished()?10:10-this.getScore()}},{key:"render",value:function(){var e=this.score||"",t=this.rolls[0]||"",n=this.rolls[1]||"";return this.rolls.length>0&&(t=this.isStrike()?"X":this.rolls[0]),this.rolls.length>1&&(n=this.isSpare()?"/":this.rolls[1]),'\n      <div class="frames__frame'+(this.isCurrent()&&!this.isFinished()?" frames__frame--active":"")+(this.isFinished()?" frames__frame--finished":"")+'">\n        <div class="frames__frame__title">'+this.id+'</div>\n        <div class="frames__frame__roll frames__frame__roll--1'+(this.isCurrent()&&!this.isFinished()&&0===this.rolls.length?" frames__frame__roll--active":"")+'">'+t+'</div>\n        <div class="frames__frame__roll frames__frame__roll--2'+(this.isCurrent()&&!this.isFinished()&&this.rolls.length>0?" frames__frame__roll--active":"")+'"">'+n+'</div>\n        <div class="frames__frame__score">'+e+"</div>\n      </div>\n    "}}]),e}();t.default=r},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,i){n(this,e),this.id=t||0,this.knocked=i||!1}return i(e,[{key:"setKnocked",value:function(e){return this.knocked=e,this}},{key:"isKnocked",value:function(){return this.knocked}},{key:"reset",value:function(){this.setKnocked(!1)}},{key:"roll",value:function(e){if(!this.isCurrent())return this.addNextScore>0&&(this.addNextScore--,this.score+=e),this.getNext().roll(e);if(this.score+=e,this.rolls.push(e),this.isFinished()){if(this.addNextScore=this.isStrike()?2:this.isSpare()?1:0,this.isLast())return 0;this.moveNext()}return this.isStrike()||this.isFinished()?10:10-this.getScore()}},{key:"render",value:function(){return'<div class="pins__pin'+(this.isKnocked()?" pins__pin--knocked":"")+'"></div>'}}]),e}();t.default=r}]);